{% extends 'base.html' %}

{% block title %}Create Session - Digital Attendance{% endblock %}

{% block extra_css %}
<style>
    .create-container {
        min-height: calc(100vh - 100px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
    }

    .create-card {
        max-width: 550px;
        width: 100%;
        position: relative;
    }

    .create-header {
        text-align: center;
        margin-bottom: 2rem;
        padding-bottom: 1.5rem;
        border-bottom: 1px solid var(--glass-border);
    }

    .create-icon {
        width: 70px;
        height: 70px;
        margin: 0 auto 1.5rem;
        background: linear-gradient(135deg, rgba(0, 255, 242, 0.2), rgba(123, 44, 191, 0.2));
        border-radius: 20px;
        border: 1px solid var(--glass-border);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .create-icon svg {
        width: 35px;
        height: 35px;
        stroke: var(--primary-cyan);
    }

    .create-title {
        font-size: 1.6rem;
        margin-bottom: 0.5rem;
    }

    .create-subtitle {
        color: var(--text-secondary);
    }

    .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }

    .submit-btn {
        width: 100%;
        padding: 1.25rem;
        font-size: 1.1rem;
        margin-top: 1rem;
    }

    .back-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: var(--text-secondary);
        text-decoration: none;
        margin-bottom: 1.5rem;
        transition: color 0.3s ease;
    }

    .back-link:hover {
        color: var(--primary-cyan);
    }

    .corner-accent {
        position: absolute;
        width: 30px;
        height: 30px;
        border: 2px solid var(--primary-cyan);
    }

    .corner-accent.tl {
        top: -1px;
        left: -1px;
        border-right: none;
        border-bottom: none;
        border-radius: 20px 0 0 0;
    }

    .corner-accent.tr {
        top: -1px;
        right: -1px;
        border-left: none;
        border-bottom: none;
        border-radius: 0 20px 0 0;
    }

    .corner-accent.bl {
        bottom: -1px;
        left: -1px;
        border-right: none;
        border-top: none;
        border-radius: 0 0 0 20px;
    }

    .corner-accent.br {
        bottom: -1px;
        right: -1px;
        border-left: none;
        border-top: none;
        border-radius: 0 0 20px 0;
    }

    .info-note {
        background: rgba(0, 255, 242, 0.1);
        border: 1px solid var(--glass-border);
        border-radius: 10px;
        padding: 1rem;
        margin-top: 1.5rem;
        font-size: 0.9rem;
        color: var(--text-secondary);
        display: flex;
        align-items: flex-start;
        gap: 0.75rem;
        border-color: aqua;
    }

    .info-note svg {
        width: 20px;
        height: 20px;
        stroke: var(--primary-cyan);
        flex-shrink: 0;
        margin-top: 2px;
    }

    @media (max-width: 500px) {
        .form-row {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="create-container">
    <div>
        <a href="{% url 'dashboard' %}" class="back-link">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="19" y1="12" x2="5" y2="12"/>
                <polyline points="12 19 5 12 12 5"/>
            </svg>
            Back to Dashboard
        </a>

        <div class="glass-card create-card">
            <div class="corner-accent tl"></div>
            <div class="corner-accent tr"></div>
            <div class="corner-accent bl"></div>
            <div class="corner-accent br"></div>

            <div class="create-header">
                <div class="create-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                        <line x1="12" y1="14" x2="12" y2="18"/>
                        <line x1="10" y1="16" x2="14" y2="16"/>
                    </svg>
                </div>
                <h1 class="create-title neon-text">Create Attendance Session</h1>
                <p class="create-subtitle">Set up a new class session and generate QR code</p>
            </div>

            <form method="post">
                {% csrf_token %}
                
                <div class="form-group">
                    <label class="form-label" for="id_unit">Select Unit</label>
                    {{ form.unit }}
                </div>

                <div class="form-group">
                    <label class="form-label" for="id_lecturer_name">Lecturer Name</label>
                    {{ form.lecturer_name }}
                </div>

                <div class="form-group">
                    <label class="form-label" for="id_class_year">Class/Year</label>
                    {{ form.class_year }}
                </div>

                <div class="form-group">
                    <label class="form-label" for="id_semester">Semester</label>
                    {{ form.semester }}
                </div>

                <div class="form-group">
                    <label class="form-label" for="id_date">Date</label>
                    {{ form.date }}
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label" for="id_start_time">Start Time</label>
                        {{ form.start_time }}
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="id_end_time">End Time</label>
                        {{ form.end_time }}
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="id_venue">Venue</label>
                    {{ form.venue }}
                </div>

                <button type="submit" class="btn btn-primary submit-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="7" height="7"/>
                        <rect x="14" y="3" width="7" height="7"/>
                        <rect x="3" y="14" width="7" height="7"/>
                        <rect x="14" y="14" width="7" height="7"/>
                    </svg>
                    Generate QR Code & Create Session
                </button>
            </form>

            <div class="info-note">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <line x1="12" y1="16" x2="12" y2="12"/>
                    <line x1="12" y1="8" x2="12.01" y2="8"/>
                </svg>
                <p>
                    A unique QR code will be generated for this session. Students scan this code 
                    to access the attendance form with pre-filled session details.
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}




